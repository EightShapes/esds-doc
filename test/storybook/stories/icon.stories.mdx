import { Meta, Story, Preview } from '@storybook/addon-docs/blocks';
import { withKnobs, text, select } from '@storybook/addon-knobs';
import { html } from 'lit-html';
import { unsafeHTML } from 'lit-html/directives/unsafe-html.js';


import '@eightshapes/esds-icon';
import * as EsdsIcons from '@eightshapes/esds-icons';
import { EsdsIconBars } from '@eightshapes/esds-icons';
import icons from '!!raw-loader!@eightshapes/esds-icons/dist/esds-icons.svg'
import iconSpriteNames from '@eightshapes/esds-icons/dist/esds-icon-names.json';
const iconClassNames = Object.keys(EsdsIcons);

<Meta
  title="Icon"
  component='esds-icon'
  decorators={[withKnobs({ escapeHTML: false })]}
  parameters={{
  }}
/>

# Icon
## Installation

```bash
npm install @eightshapes/esds-icon
```

## Default
<Preview>
  <Story name="Default">
    {`<esds-icon></esds-icon>`}
  </Story>
</Preview>

## Small
<Preview>
  <Story name="Small">
    {`<esds-icon size="small"></esds-icon>`}
  </Story>
</Preview>

## Large
<Preview>
  <Story name="Large">
    {`<esds-icon size="large"></esds-icon>`}
  </Story>
</Preview>

## Standalone, Accessible Title
<Preview>
  <Story name="Standalone, Accessible Title">
    {`<esds-icon title="stopwatch"></esds-icon>`}
  </Story>
</Preview>

## Icon Module Usage
<Preview>
  <Story name="Icon Module Usage">
    {html`<esds-icon use="${EsdsIconBars}"></esds-icon>`}
  </Story>
</Preview>

## Sprite Symbol Usage
<Preview>
  <Story name="Sprite Symbol Usage">
    {html`<div style="display: none;">${unsafeHTML(icons)}</div>
          <esds-icon use="#twitter"></esds-icon>`}
  </Story>
</Preview>

## Gallery, Icon Module
<Preview>
  <Story name="Gallery, Icon Module">
    {html`
      ${iconClassNames.map(n => html`<esds-icon use="${EsdsIcons[n]}"></esds-icon>`)}
    `}
  </Story>
</Preview>

## Gallery, Sprite Sheet
<Preview>
  <Story name="Gallery, Sprite Sheet">
    {
      html`
      <!-- Hidden div containing svg sprite sheet -->
      <div style="display: none;">${unsafeHTML(icons)}</div>
      ${iconSpriteNames.map(n => html`<esds-icon use="#${n}"></esds-icon>`)}
    `}
  </Story>
</Preview>

## Knobs
<Preview>
  <Story name="Knobs">
    {`<esds-icon size="${select('Size', {Small: 'small', Medium: 'medium', Large: 'large'}, 'medium')}"></esds-icon>`}
  </Story>
</Preview>
