$theme-color-switch-group-label: $theme-text-color-primary-on-light;
$theme-color-switch-group-label-on-dark: $theme-color-neutral-95;

$theme-color-switch-label: $theme-color-neutral-50;
$theme-color-switch-label-on-dark: $theme-text-color-secondary-on-dark;
$theme-color-switch-label-hover: $theme-text-color-primary-on-light;
$theme-color-switch-label-hover-on-dark: $theme-color-neutral-90;

$theme-transition-hover: color 300ms, border-color 300ms;
$theme-transition-click: border-color 300ms, margin-left 300ms, background 300ms;
$theme-border-radius-switch: 15px;

$theme-switch-width: 26px;
$theme-switch-height: 16px;
$theme-switch-toggle-width: 12px;
$theme-switch-toggle-height: 12px;

$theme-box-shadow-switch-element-focus: 0 0 4px 2px rgba($theme-interactive-color-primary-default, .8);
$theme-size-switch-focus-gap: 3px;

$theme-space-stack-switch-field-group: 0 0 16px 0;
$theme-space-stack-switch-label: 0 0 8px 0;
$theme-space-stack-switch-input: 0 0 8px 0;
$theme-space-grid-switch: 0 8px 8px 0;

.#{$theme}-switch,
.#{$theme}-switch__group,
.#{$theme}-switch__field-group {
    @include border-box();
}

.#{$theme}-switch {

    .#{$theme}-switch__field-group--horizontal & {
        display: inline-flex;
        margin: $theme-space-grid-switch;
    }
}

.#{$theme}-switch__label {
    color: $theme-color-switch-label;
    cursor: pointer;
    font-family: $theme-font-family-sans-serif;
    font-size: $theme-font-size-default;
    font-weight: $theme-font-weight-light;

    .#{$theme}-container--dark &, 
    .#{$theme}-container--black & {
        color: $theme-color-switch-label-on-dark;
    }

}

.#{$theme}-switch__text {
    border: solid $theme-size-switch-focus-gap transparent;
    cursor: pointer;
    display: inline-block;
    padding-left: 35px;
    position: relative;
    transition: $theme-transition-hover;

    // Border
    &:before {
        border: $theme-border-control-default;
        border-radius: $theme-border-radius-switch;
        content: '';
        display: block;
        height: $theme-switch-height;
        left: 0;
        position: absolute;
        top: 2px;
        transition: $theme-transition-click;
        width: $theme-switch-width;

        .#{$theme}-switch__label:hover & {
            border-color: $theme-interactive-color-primary-hover;
        }

        .#{$theme}-switch__label:active & {
            border-color: $theme-interactive-color-primary-active;
        }

    }

    // Dot
    &:after {
        border: $theme-border-control-default;
        border-radius: 50%;
        content: '';
        display: block;
        height: $theme-switch-toggle-height;
        left: 0;
        margin-left: 2px;
        position: absolute;
        top: 4px;
        transition: $theme-transition-click;
        width: $theme-switch-toggle-width;

        .#{$theme}-switch__label:hover & {
            border-color: $theme-interactive-color-primary-hover;
        }

        .#{$theme}-switch__label:active & {
            border-color: $theme-interactive-color-primary-active;
        }

    }

    .#{$theme}-switch__label:hover & {
        color: $theme-color-switch-label-hover;

        .#{$theme}-container--dark &, 
        .#{$theme}-container--black & {
            color: $theme-color-switch-label-hover-on-dark;
        }
    }
    

}

.#{$theme}-switch__input {
    // hide checkbox
    @include theme-accessibly-hidden();

    // Focus/active state
    &:focus ~ .#{$theme}-switch__text,
    .#{$theme}-switch--focus & ~ .#{$theme}-switch__text {
        box-shadow: $theme-box-shadow-switch-element-focus;
        outline: none;
    }

    // Checked state
    &:checked ~ .#{$theme}-switch__text {
        color: $theme-color-switch-label-hover;

        .#{$theme}-container--dark &, 
        .#{$theme}-container--black & {
            color: $theme-color-switch-label-hover-on-dark;
        }

        &:before,
        &:after {
            border-color: $theme-interactive-color-primary-default;

            .#{$theme}-switch__label:hover & {
                border-color: $theme-interactive-color-primary-hover;
            }

            .#{$theme}-switch__label:active & {
                border-color: $theme-interactive-color-primary-active;
            }

        }

        &:after {
            background: $theme-interactive-color-primary-default;
            margin-left: 12px;

            .#{$theme}-switch__label:hover & {
                background: $theme-interactive-color-primary-hover;
            }

            .#{$theme}-switch__label:active & {
                background: $theme-interactive-color-primary-active;
            }

        }
    }

    // Disabled
    &:disabled ~ .#{$theme}-switch__text,
    &[disabled] ~ .#{$theme}-switch__text,
    .#{$theme}-switch--disabled & ~ .#{$theme}-switch__text  {
        color: $theme-interactive-color-disabled;
        cursor: not-allowed;
        opacity: $theme-opacity-disabled;

        &:before,
        &:after {
            border: $theme-border-disabled;
        }
        
    }

}



// Stacked Switches
.#{$theme}-switch__group {
    border: 0;
    margin: 0;
    padding: 0;

    .#{$theme}-switch {
        margin: $theme-space-stack-switch-input;
    }
}

.#{$theme}-switch__group-label {
    @include theme-text-crop();
    color: $theme-color-switch-group-label;
    display: block;
    font-family: $theme-font-family-sans-serif;
    font-size: $theme-font-size-default;
    font-weight: $theme-font-weight-light;
    margin: $theme-space-stack-switch-label;
    padding: 0;

    .#{$theme}-container--dark &, 
    .#{$theme}-container--black & {
        color: $theme-color-switch-group-label-on-dark;
    }
}

// Horizontal Switches
.#{$theme}-switch__field-group--horizontal {
    align-items: flex-start;
    display: flex;
}
