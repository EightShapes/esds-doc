{# DO NOT EDIT: This file is automatically generated by the project's build task #}
{% macro button(text) %}
    <button class="esds-doc-button">{{ text }}</button>
{% endmacro %}

{% macro code_snippet(
        source='Set source= to view source here', 
        sources=[],
        language='markup', 
        show_copy_button=true, 
        class=false, 
        beautify=false, 
        preformatted=false,
        reference_link_text="Reference Link", 
        reference_link_href=false,
        copy_code_text="Copy Code",
        filename=false) %}
        {% set button_component_import_path = button_component_import_path | default('./button/button.njk') %}
        {% from button_component_import_path import button with context %}

    {% set code_snippet_id = "esds-doc-code-snippet--" + range(0, 100000) | random %}
    {% if language == 'njk' %}
        {% set language = 'twig' %}
    {% endif %}

    {% if language != 'css' and language != 'scss' and language != 'markup' and language != 'html'  %}
        {% set preformatted = true %}
    {% endif %}

    <div class="esds-doc-code-snippet{{ ' ' + class if class }}">
        
        {# Upcoming feature - support multiple tabs with different source examples #}
        {% if sources.length > 0 %}
            <div class="esds-doc-code-snippet__tabs">
                {% for source in sources %}
                    <a href="#{{ code_snippet_id }}--{{ source.language }}" class="esds-doc-code-snippet__tab">{{ source.language }}</a>
                {% endfor %}
            </div>
        {% endif %}

        <div class="esds-doc-code-snippet__sources-wrap">
            {# Upcoming feature - support multiple tabs with different source examples #}
            {% if sources.length > 0 %}
                {% for source in sources %}
                    {{ render_code_snippet_source(source=source.source, language=source.language, filename=source.filename, code_snippet_id=code_snippet_id) }}
                {% endfor %}
            {% else %}
                {{ render_code_snippet_source(source=source, language=language, filename=filename, code_snippet_id=code_snippet_id) }}
            {% endif %}
            {% if show_copy_button %}
                <div class="esds-doc-code-snippet__copy-code-wrap">
                    <div class="esds-doc-code-snippet__copied-notification">
                        Copied to clipboard
                    </div>
                    {{ button(text=copy_code_text) }}
                </div>
            {% endif %}
        </div>
    </div>
{% endmacro %}

{% macro render_code_snippet_source(source, language='markup', filename, code_snippet_id) %}
    <div class="esds-doc-code-snippet__source" id="{{ code_snippet_id }}--{{ language }}">
        {% if filename %}
            <span class="esds-doc-code-snippet__filename">{{ filename }}</span>
        {% endif %}
        <pre class="esds-doc-code-snippet__pre"><code class="language-{{ language }}">
            {%- if preformatted -%}
                {{- source | stripindent | trim -}}
            {%- elseif language == 'js' -%}
                {{- source | trim | jsbeautify -}}
            {%- elseif language == 'css' or language == 'scss' -%}
                {{- source | trim | cssbeautify -}}
            {%- else -%}
                {{- source | stripindent | htmlbeautify -}}
            {%- endif -%}
        </code></pre>
    </div>
{% endmacro %}

{% macro reference_table(class=false, data, headers) %}
    {% from 'components/reference_table/reference_table_defaults.njk' import default_data, default_headers %}
    {% set data = data | default(default_data) %}
    {% set headers = headers | default(default_headers) %}
    <div class="esds-doc-reference-table">
        <table class="esds-doc-reference-table__inner">
            <thead class="esds-doc-referenc-table__header">
                <tr class="esds-doc-referenc-table__header-row">
                    {% for header in headers %}
                        <th class="esds-doc-reference-table__header-cell">{{ header | replace("_", " ") | capitalize }}</th>
                    {% endfor %}
                </tr>
            </thead>
            <tbody class="esds-doc-reference-table__body">
                {% for data_row in data %}
                    <tr class="esds-doc-reference-table__row">
                        {% for data_key in headers %}
                            {% if data_key == 'class' %}
                                {# Convenience method to wrap class names in code tags #}
                                {% set cell_content = "`" + data_row[data_key] + "`" %}
                            {% else %}
                                {% set cell_content = data_row[data_key] %}
                            {% endif %}
                            <td class="esds-doc-reference-table__cell">
                                {{ cell_content | safe | markdown(false) }}
                            </td>
                        {% endfor %}
                    </tr>
                {% endfor %}                
            </tbody>
        </table>
    </div>
{% endmacro %}



{% set default_headers = ["class", "applies_to", "outcome"] %}

{% set default_data = [{
                class: ".uds-component-name--modifier",
                applies_to: ".uds-component-name",
                outcome: "Modifies `uds-component-name` to change its background color."
            },
            {
                class: ".uds-component-name--different-modifier",
                applies_to: ".uds-component-name",
                outcome: "Modifies `uds-component-name` to change its background color to a different color."
            }] %}

{% macro table(class, headers, rows) %}
    {% from 'components/table/table_defaults.njk' import default_rows, default_headers %}
    {% set rows = rows | default(default_rows) %}
    {% set headers = headers | default(default_headers) %}
    <table class="esds-doc-table{{ ' ' + class if class }}">
        <thead class="esds-doc-table__head">
            <tr class="esds-doc-table__row esds-doc-table__row--head">
                {% for header in headers %}
                    <th class="esds-doc-table__cell esds-doc-table__cell--head">{{ header | safe }}</th>
                {% endfor %}
            </tr>
        </thead>
        <tbody class="esds-doc-table__body">
            {% for row in rows %}
                <tr class="esds-doc-table__row">
                    {% for cell in row %}
                        <td class="esds-doc-table__cell">
                            {{ cell | safe | markdown(false) }}
                        </td>
                    {% endfor %}
                </tr>
            {% endfor %} 
        </tbody>
    </table>
{% endmacro %}

{% set default_headers = ['Animals', 'Plants', 'Foods'] %}
{% set default_rows = [
            ['Elephant', 'Tree', 'Pizza'],
            ['Tiger', 'Cactus', 'Banana'],
            ['Platypus', 'Flower', 'Hamburger']] %}
