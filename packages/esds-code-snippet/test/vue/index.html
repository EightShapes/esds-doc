<html>
  <head>
    <script src="https://unpkg.com/vue"></script>
    <script type="module" src="../../dist/esds-code-snippet-web-component.js"></script>
    <!-- No Shadow DOM, so link directly to styles -->
    <link rel="stylesheet" href="../../dist/esds-code-snippet.css"/>
    <!-- Enable <slot> functionality of lit-element without using ShadowDOM -->
    <script>
      window.ShadyDOM = { force: true };
    </script>
    <!-- Separate webcomponents polyfill bundle for Edge, IE11, etc. -->
    <script type="text/javascript" src="../../node_modules/@webcomponents/custom-elements/custom-elements.min.js"></script>

    <script type="module">
      import { EsdsCodeSnippet } from '../../dist/esds-code-snippet.js';
      EsdsCodeSnippet.copyButton = () => '<button class="my-ds-button my-ds-button--primary" type=button> Button Text </button>';
      customElements.define('vue-code-snippet', EsdsCodeSnippet);
    </script>
  </head>
  <body>
    <!--
      To wire up Vue data to your custom element use the following syntax:
      <myds-button :text="message"></myds-button>

      Where 'text' is a prop supported by your button template.

      To test <slot> functionality within your component use the following syntax:
      <myds-button>{{ message }}</myds-button>
     -->
    <div id="app">
      <p>{{ message }}</p>
      <esds-code-snippet>
        <h1>Testing</h1>
      </esds-code-snippet>

      <esds-code-snippet :source="htmlSnippet">
      </esds-code-snippet>

      <h4>Vue component called within snippet and showing rendered HTML</h4>
      <esds-code-snippet>
        <my-vue-cmp/>
      </esds-code-snippet>

      <h4>Add the <code>v-pre</code> attribute in source to prevent Vue from rendering the component and allow the ESDS Code Snippet to display the view source code.</h4>
      <esds-code-snippet>
        <my-vue-cmp v-pre/>
      </esds-code-snippet>


      <vue-code-snippet>
        <h5>This should have the Vue button</h5>
        <custom-button v-pre></custom-button>
      </vue-code-snippet>
    </div>
    <script>
      Vue.config.ignoredElements = [
        'esds-code-snippet',
        'vue-code-snippet'
      ];

      Vue.component('my-vue-cmp', {
        template: '<h3>This is a Vue Component</h3>'
      });

      Vue.component('custom-button', {
        template: '<button>This is my custom {{ text }}</button>',
        data: function() {
          return {
            text: 'Vue Button'
          }
        }
      });

      const vueApp = new Vue({
        el: '#app',
        data: {
          htmlSnippet: '<h2>This is coming from the vueApp object</h2>',
          message: 'Hello Vue.js!'
        }
      });
    </script>
  </body>
</html>
